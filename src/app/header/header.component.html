<div class="container">
  <h1 class="text-primary text-center my-3">Manage Products</h1>
  <div class="row py-3">
    <!-- First Div (Product Inputs) -->
    <div class="col-lg-6 bg-light p-4">
      <h3 class="text-primary my-3">Add Products</h3>

      <!-- Form  -->
      <div class="mb-3">
        <label for="product Id" class="form-label">Product Id</label>
        <input type="text" class="form-control" #id />
      </div>

      <div class="mb-3">
        <label for="Product Name" class="form-label">Product Name</label>
        <input type="text" class="form-control" #name />
      </div>

      <div class="mb-3">
        <label for="Product Price" class="form-label">Product Price</label>
        <input type="text" class="form-control" #price />
      </div>

      <button class="btn btn-primary" (click)="onAddProduct(id, name, price)">
        {{ editMode ? "Update Product" : "Add Product" }}
      </button>

      <button
        type="submit"
        class="btn btn-success mx-3"
        (click)="onSaveProduct()"
      >
        Save Product
      </button>

      <button type="submit" class="btn btn-warning" (click)="onFetchProduct()">
        Fetch Product
      </button>
    </div>

    <!-- Second Div (Table) -->
    <div class="col-lg-6 bg-light p-4">
      <h3 class="text-primary my-3">{{ dataTitle | async }}</h3>

      <!-- Table  -->
      <table class="table">
        <thead class="table-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Id</th>
            <th scope="col">Name</th>
            <th scope="col">Price</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody *ngIf="!fetching">
          <tr *ngFor="let product of products; index as i">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.price }}</td>
            <td>
              <button class="btn btn-success" (click)="onEditProduct(i)">
                Edit
              </button>
            </td>
            <td>
              <button class="btn btn-danger" (click)="onDeleteProduct(i)">
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Loader Div -->
      <div
        class="d-flex align-items-center justify-content-center"
        *ngIf="fetching"
      >
        <div class="spinner-border text-warning" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        &nbsp; Fetching Products...
      </div>
    </div>
  </div>
</div>
